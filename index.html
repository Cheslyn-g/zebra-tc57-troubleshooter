<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Troubleshooting Assistant</title>
  <style>
    body { font-family: Arial; padding: 20px; }
    .question-box { margin-top: 20px; }
    button { margin: 5px; }
  </style>
</head>
<body>
  <h1>Printer Troubleshooting Assistant</h1>
  <div id="troubleshooting-container"></div>

  <script>
    const questions = {
      start: {
        text: "Is the printer turning on?",
        options: [
          { text: "Yes", next: "paperCheck" },
          { text: "No", next: "powerIssue" }
        ]
      },
      powerIssue: {
        text: "Check the power cable. Is it plugged in?",
        options: [
          { text: "Yes", next: "callSupport" },
          { text: "No", next: "plugIn" }
        ]
      },
      plugIn: {
        text: "Plug in the cable and try turning it on.",
        options: []
      },
      paperCheck: {
        text: "Is there paper loaded in the tray?",
        options: [
          { text: "Yes", next: "jamCheck" },
          { text: "No", next: "loadPaper" }
        ]
      },
      loadPaper: {
        text: "Please load paper and try again.",
        options: []
      },
      jamCheck: {
        text: "Is there a paper jam?",
        options: [
          { text: "Yes", next: "clearJam" },
          { text: "No", next: "callSupport" }
        ]
      },
      clearJam: {
        text: "Clear the jam and restart the printer.",
        options: []
      },
      callSupport: {
        text: "Please contact support for further assistance.",
        options: []
      }
    };

    function renderQuestion(key) {
      const container = document.getElementById("troubleshooting-container");
      const q = questions[key];
      container.innerHTML = `<div class="question-box">
        <p>${q.text}</p>
        ${q.options.map(opt => `<button onclick="renderQuestion('${opt.next}')">${opt.text}</button>`).join('')}
      </div>`;
    }

    renderQuestion("start");
  </script>
</body>
</html>


<script>
  const userAnswers = [];

  const questions = {
    start: {
      text: "Is the printer turning on?",
      options: [
        { text: "Yes", next: "paperCheck" },
        { text: "No", next: "powerIssue" }
      ]
    },
    powerIssue: {
      text: "Check the power cable. Is it plugged in?",
      options: [
        { text: "Yes", next: "callSupport" },
        { text: "No", next: "plugIn" }
      ]
    },
    plugIn: {
      text: "Plug in the cable and try turning it on.",
      options: []
    },
    paperCheck: {
      text: "Is there paper loaded in the tray?",
      options: [
        { text: "Yes", next: "jamCheck" },
        { text: "No", next: "loadPaper" }
      ]
    },
    loadPaper: {
      text: "Please load paper and try again.",
      options: []
    },
    jamCheck: {
      text: "Is there a paper jam?",
      options: [
        { text: "Yes", next: "clearJam" },
        { text: "No", next: "callSupport" }
      ]
    },
    clearJam: {
      text: "Clear the jam and restart the printer.",
      options: []
    },
    callSupport: {
      text: "Please contact support for further assistance.",
      options: []
    }
  };

  function renderQuestion(key) {
    const container = document.getElementById("troubleshooting-container");
    const q = questions[key];
    userAnswers.push(q.text); // Log question
    container.innerHTML = `<div class="question-box">
      <p>${q.text}</p>
      ${q.options.map(opt => `
        <button onclick="userAnswers.push('Answer: ${opt.text}'); renderQuestion('${opt.next}')">
          ${opt.text}
        </button>`).join('')}
      ${q.options.length === 0 ? `<br><button onclick="downloadLog()">Download My Instructions</button>` : ''}
    </div>`;
  }

  function downloadLog() {
    const blob = new Blob([userAnswers.join('\n')], { type: "text/plain" });
    const link = document.createElement("a");
    link.href = URL.createObjectURL(blob);
    link.download = "My_Troubleshooting_Log.txt";
    link.click();
  }

  renderQuestion("start");
</script>
